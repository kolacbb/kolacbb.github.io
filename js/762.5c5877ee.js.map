{"version":3,"file":"js/762.5c5877ee.js","mappings":"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","sources":["webpack://AppLocalize/./src/views/UserTranslate.vue","webpack://AppLocalize/./src/api/user.js","webpack://AppLocalize/src/views/UserTranslate.vue","webpack://AppLocalize/./src/views/UserTranslate.vue?bd9c","webpack://AppLocalize/./src/views/UserTranslate.vue?b5fd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"container\"},[_c('div',{staticClass:\"App\"},[_c('h1',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#999999\"}},[_vm._v(_vm._s(_vm.title))]),_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.desc))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.getQueryTl),expression:\"!getQueryTl\"}]},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.localLanguage.name != null),expression:\"localLanguage.name != null\"}]},[_c('h1',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#999999\"}},[_vm._v(\"Local Languages\")]),_c('div',{staticClass:\"Option\",on:{\"click\":function($event){return _vm.handleLanguage(_vm.localLanguage)}}},[_c('a',[_vm._v(_vm._s(_vm.localLanguage.name))])]),_c('h1',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#999999\"}},[_vm._v(\"More languages\")])]),_vm._l((_vm.languages),function(item){return _c('div',{staticClass:\"Option\",on:{\"click\":function($event){return _vm.handleLanguage(item)}}},[_c('a',[_vm._v(_vm._s(item.name))])])})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getQueryTl && !_vm.showResult),expression:\"getQueryTl && !showResult\"}]},[_c('span',{staticStyle:{\"font-size\":\"18px\",\"color\":\"#999999\"}},[_vm._v(\"You do not need to enter all translations before submitting, partial submissions are accepted.\")]),_vm._l((_vm.strings),function(item){return _c('div',{staticClass:\"Input\"},[_c('h3',[_vm._v(_vm._s(item.en))]),(60 < item.en.length)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.value),expression:\"item.value\"}],attrs:{\"dir\":\"auto\",\"placeholder\":\"\"},domProps:{\"value\":(item.value)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(item, \"value\", $event.target.value)}}}):_vm._e(),_vm._v(\" \"),(item.en.length <= 60)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.value),expression:\"item.value\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(item.value)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(item, \"value\", $event.target.value)}}}):_vm._e()])})],2),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getQueryTl && !_vm.showResult),expression:\"getQueryTl && !showResult\"}],staticClass:\"Button\",attrs:{\"loading\":_vm.isSubmitLoading},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Submit\")]),_vm._m(0)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"200px\",\"margin-top\":\"60px\"}},[_c('h4',{staticStyle:{\"text-align\":\"center\",\"color\":\"#999\"}},[_vm._v(\"@Power by AppLocalize.top\")])])\n}]\n\nexport { render, staticRenderFns }","import http from \"@/utils/request\";\n\n\nexport const getLanguages = (data) => {\n    return http.post(\"/translate/languages\", data)\n}\n\nexport const getStrings = (data) => {\n    return http.post(\"/translate/get\", data)\n}\n\nexport const submitStrings = (data) => {\n    return http.post(\"/translate/submit\", data)\n}","<template>\n\n  <div class=\"container\" v-loading=\"isLoading\">\n    <div class=\"App\">\n      <h1 style=\"font-size: 18px; color: #999999\">{{ title }}</h1>\n      <span style=\"font-size: 20px; \">{{ desc }}</span>\n\n      <div v-show=\"!getQueryTl\">\n\n        <div v-show=\"localLanguage.name != null\">\n          <h1 style=\"font-size: 18px; color: #999999\">Local Languages</h1>\n          <div @click=\"handleLanguage(localLanguage)\" class=\"Option\">\n            <a>{{ localLanguage.name }}</a>\n          </div>\n\n          <h1 style=\"font-size: 18px; color: #999999\">More languages</h1>\n        </div>\n\n        <div @click=\"handleLanguage(item)\" class=\"Option\" v-for=\"item in languages\">\n          <a>{{ item.name }}</a>\n        </div>\n      </div>\n\n\n      <div v-show=\"getQueryTl && !showResult\">\n\n        <span style=\"font-size: 18px; color: #999999\">You do not need to enter all translations before submitting, partial submissions are accepted.</span>\n\n        <div class=\"Input\" v-for=\"item in strings\">\n          <h3>{{ item.en }}</h3>\n          <textarea v-if=\"60 < item.en.length\" dir=\"auto\" v-model=\"item.value\" placeholder=\"\"/>\n          <input v-if=\"item.en.length <= 60\" type=\"text\" v-model=\"item.value\" placeholder=\"\"/>\n        </div>\n      </div>\n\n      <el-button v-show=\"getQueryTl && !showResult\" :loading=\"isSubmitLoading\" class=\"Button\" @click=\"handleSubmit\">Submit</el-button>\n\n      <div style=\"height: 200px; margin-top: 60px;\">\n        <h4 style=\"text-align: center; color: #999\">@Power by AppLocalize.top</h4>\n      </div>\n\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport {getLanguages, getStrings, submitStrings} from \"../api/user\"\nexport default {\n  data() {\n    return {\n      title: 'Help Translate',\n      desc: 'Choose a language',\n      isLoading: true,\n      targetField: 'en',\n      showResult: false,\n      isSubmitLoading: false,\n      localLanguage: {},\n      languages: [],\n      strings: []\n    }\n  },\n  mounted() {\n      this.requestServerData()\n  },\n  watch: {\n    '$route.query.tl': {\n      handler(newVal, oldVal) {\n        this.requestServerData()\n      }\n    }\n  },\n  methods: {\n    handleLanguage(item) {\n      this.$router.push({\n        path: \"/translate/\" + this.$route.params.id,\n        query: {tl: item.key}\n      })\n    },\n    handleSubmit() {\n      this.isSubmitLoading = true\n      const request = {\n        \"projectKey\": this.$route.params.id,\n        \"srcLanguage\": \"en\",\n        \"toLanguage\": this.$route.query.tl,\n        \"data\": []\n      }\n\n      this.strings.forEach((item) => {\n        if (item.value !== undefined && item.value !== \"\" && item.value !== item[this.targetField]) {\n          const d = {\"transId\": item.transId, \"value\": item.value}\n          request.data.push(d)\n        }\n      })\n      submitStrings(request).then((data) => {\n        this.isSubmitLoading = false\n        if (data.code == 200) {\n          this.desc = \"Submitted successfully, thank you for your contribution.\";\n          this.showResult = true;\n        }\n      })\n\n    },\n    requestServerData() {\n      const projectKey = this.$route.params.id;\n      const query = this.getQueryTl;\n      const request = {\"key\": projectKey, \"targetKey\": query}\n      this.showResult = false;\n      this.isLoading = true\n\n      if (projectKey !== undefined && query !== undefined) {\n        this.title = \"\"\n        this.desc = \"\"\n        getStrings(request).then((data) => {\n          this.isLoading = false\n          if (data.code == 200) {\n            this.targetField = data.data.targetField;\n            data.data.strings.forEach((item) => {\n              item.value = item[this.targetField]\n            })\n            this.strings = data.data.strings;\n            this.title = data.data.projectName;\n            this.desc = \"Submit translations for \" + data.data.targetLanguage\n          }\n        })\n      } else {\n        this.title = \"Help Translate\"\n        this.desc = \"Choose a language\"\n        getLanguages(request).then((data) => {\n          this.isLoading = false\n          if (data.code == 200) {\n            this.languages = data.data.sort((a, b) => {\n              return a.name.localeCompare(b.name)\n            });\n            const localLanguageKey = navigator.language.split(\"-\")[0].toLowerCase()\n            this.languages.forEach((item) => {\n              let lk = item.key.split(\"_\")[0].toLowerCase()\n              if (localLanguageKey.includes(lk)) {\n                console.log(localLanguageKey,  lk);\n                this.localLanguage = item\n              }\n            })\n          }\n        })\n      }\n    }\n  },\n\n  computed: {\n    getQueryTl() {\n        return this.$route.query.tl\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  margin: 20px;\n}\n\n.App {\n  width: 100%;\n  margin: auto\n}\n\n@media only screen and (min-width: 600px) {\n  .App {\n    width: 600px\n  }\n}\n.Option {\n  width: calc(100% - 60px);\n  padding: 24px;\n  font-size: 18px;\n  font-weight: 700;\n  background-color: #eee;\n  border-radius: 100px;\n  text-align: center;\n  margin-top: 30px;\n  text-decoration: none;\n  color: #000\n}\n\n.Option:hover {\n  color: #fff;\n  background-color: #101010\n}\n\n.Header, .Input {\n  padding-bottom: 20px\n}\n\n.Input {\n  padding-top: 6px\n}\n\n.Input h3 {\n  color: #000\n}\n\n.Input input, textarea {\n  width: calc(100% - 40px);\n  padding: 20px;\n  font-size: 20px;\n  border-radius: 10px;\n  border: 1px solid #ccc;\n  resize: vertical;\n}\n.Button {\n  margin-top: 20px;\n  cursor: pointer;\n  width: 100%;\n  background-color: #3baf72;\n  color: #fff;\n  border: 0;\n  border-radius: 8px;\n  padding: 20px;\n  font-size: 20px;\n  font-weight: 700\n}\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserTranslate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserTranslate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTranslate.vue?vue&type=template&id=c65a68d0&scoped=true&\"\nimport script from \"./UserTranslate.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTranslate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserTranslate.vue?vue&type=style&index=0&id=c65a68d0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c65a68d0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","isLoading","expression","staticClass","staticStyle","_v","_s","title","desc","getQueryTl","localLanguage","on","$event","handleLanguage","_l","languages","item","showResult","strings","en","length","attrs","domProps","target","composing","$set","_e","isSubmitLoading","handleSubmit","_m","staticRenderFns","getLanguages","data","http","post","getStrings","submitStrings","targetField","mounted","requestServerData","watch","handler","newVal","oldVal","methods","$router","push","path","$route","params","id","query","tl","key","request","forEach","undefined","d","transId","then","code","projectKey","projectName","targetLanguage","sort","a","b","localeCompare","localLanguageKey","navigator","language","split","toLowerCase","lk","includes","console","log","computed","component"],"sourceRoot":""}