{"version":3,"file":"js/593.a275d8de.js","mappings":"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","sources":["webpack://AppLocalize/./src/api/submission.js","webpack://AppLocalize/./src/views/project/Submission.vue","webpack://AppLocalize/src/views/project/Submission.vue","webpack://AppLocalize/./src/views/project/Submission.vue?ec37","webpack://AppLocalize/./src/views/project/Submission.vue?2649"],"sourcesContent":["import http from \"@/utils/request\";\n\nexport const getAllSubmit = (data) => {\n    return http.post(\"/submit/all\", data)\n}\n\nexport const getSubmit = (data) => {\n    return http.post(\"/submit/get\", data)\n}\n\nexport const acceptSubmit = (data) => {\n    return http.post(\"/submit/accept\", data)\n}\n\nexport const deleteSubmit = (data) => {\n    return http.post(\"/submit/delete\", data)\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"container\"},[_c('div',{staticClass:\"App\"},[_c('el-card',{staticClass:\"ProjectCard\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":'/translate/'+ this.$store.state.tab.projectData.projectKey}},[_vm._v(\"User Translate\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.submits,\"stripe\":\"\",\"empty-text\":\"No Data\"}},[_c('el-table-column',{attrs:{\"prop\":\"submitId\",\"label\":\"ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"toLanguage\",\"label\":\"Target Language\",\"formatter\":_vm.languageFormat}}),_c('el-table-column',{attrs:{\"prop\":\"createdTime\",\"label\":\"Create Time\",\"formatter\":_vm.dateFormat}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"Operate\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleOperatorSubmit(scope.row)}}},[_vm._v(\"Edit\")])]}}])})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"Translation\",\"visible\":_vm.isCurrentItemSubmitEmpty,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.isCurrentItemSubmitEmpty=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.currentSubmit.data,\"stripe\":\"\",\"empty-text\":\"No Data\"}},[_c('el-table-column',{attrs:{\"prop\":\"transId\",\"label\":\"transId\"}}),_c('el-table-column',{attrs:{\"prop\":\"value\",\"label\":\"Value\"}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleDeleteSubmit}},[_vm._v(\"Delete\")]),_c('el-button',{on:{\"click\":function($event){_vm.currentSubmit.data = null}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAcceptSubmit}},[_vm._v(\"Accept\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div class=\"container\" v-loading=\"isLoading\">\n    <div class=\"App\">\n      <el-card class=\"ProjectCard\">\n\n        <a target=\"_blank\" v-bind:href=\" '/translate/'+ this.$store.state.tab.projectData.projectKey \">User Translate</a>\n\n        <el-table :data=\"submits\" stripe empty-text=\"No Data\" style=\"width: 100%\">\n          <el-table-column prop=\"submitId\" label=\"ID\"></el-table-column>\n          <el-table-column prop=\"toLanguage\" label=\"Target Language\" :formatter=\"languageFormat\"></el-table-column>\n          <el-table-column prop=\"createdTime\" label=\"Create Time\" :formatter=\"dateFormat\"></el-table-column>\n          <el-table-column fixed=\"right\" label=\"Operate\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-button @click=\"handleOperatorSubmit(scope.row)\" type=\"text\" size=\"small\">Edit</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n      </el-card>\n    </div>\n\n    <el-dialog\n        title=\"Translation\"\n        :visible.sync=\"isCurrentItemSubmitEmpty\"\n        width=\"30%\">\n\n      <el-table :data=\"currentSubmit.data\" stripe empty-text=\"No Data\" style=\"width: 100%\">\n\n        <el-table-column prop=\"transId\" label=\"transId\"></el-table-column>\n        <el-table-column prop=\"value\" label=\"Value\"></el-table-column>\n\n      </el-table>\n\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"handleDeleteSubmit\">Delete</el-button>\n          <el-button @click=\"currentSubmit.data = null\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"handleAcceptSubmit\">Accept</el-button>\n        </span>\n\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {getAllSubmit, getSubmit, acceptSubmit, deleteSubmit} from \"../../api/submission\";\nimport languages from \"@/store/languages\";\n\nexport default {\n  data() {\n    return {\n      isLoading: true,\n      submits: [],\n      currentSubmit: {}\n    }\n  },\n  computed: {\n    isCurrentItemSubmitEmpty() {\n      return this.currentSubmit.data != null\n    }\n  },\n  methods: {\n    dateFormat(row, column) {\n      // 获取单元格数据\n      let date = row[column.property]\n      if (date == undefined) {\n        return ''\n      }\n      let dt = new Date(date)\n      //console.log(dt.getYear());\n      return dt.getFullYear() + '-' + (dt.getMonth() + 1) + '-' + dt.getDate() + ' ' + dt.getHours() + ':' + dt.getMinutes() + ':' + dt.getSeconds()\n    },\n    languageFormat(row, column) {\n      let date = row[column.property]\n      if (date == undefined) {\n        return ''\n      }\n      return languages.state.languages[date]\n    },\n    handleOperatorSubmit(row) {\n      const request =  {\n        \"projectId\": this.$route.params.id,\n        \"submitId\": row.submitId\n      }\n\n      getSubmit(request).then((data) => {\n        if (data.code == 200) {\n          this.currentSubmit = data.data;\n        }\n      })\n    },\n    handleAcceptSubmit() {\n      const request = {\n        \"projectId\": this.$route.params.id,\n        \"submitId\": this.currentSubmit.submitId\n      }\n      acceptSubmit(request).then((data) => {\n        if (data.code == 200) {\n          this.currentSubmit.data = null\n        }\n      })\n    },\n    handleDeleteSubmit() {\n      const request = {\n        \"projectId\": this.$route.params.id,\n        \"submitId\": this.currentSubmit.submitId\n      }\n      deleteSubmit(request).then((data) => {\n        if (data.code == 200) {\n          this.currentSubmit.data = null\n        }\n      })\n    }\n  },\n  mounted() {\n    const request = {\n      \"projectId\": this.$route.params.id,\n      \"pageSize\": 20, \"pageNum\": 0\n    }\n    getAllSubmit(request).then((data) => {\n      this.isLoading = false\n      console.log(data)\n      this.submits = data.data\n    })\n  },\n}\n</script>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Submission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Submission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Submission.vue?vue&type=template&id=a3173472&\"\nimport script from \"./Submission.vue?vue&type=script&lang=js&\"\nexport * from \"./Submission.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["getAllSubmit","data","http","post","getSubmit","acceptSubmit","deleteSubmit","render","_vm","this","_c","_self","directives","name","rawName","value","isLoading","expression","staticClass","attrs","$store","state","tab","projectData","projectKey","_v","staticStyle","submits","languageFormat","dateFormat","scopedSlots","_u","key","fn","scope","on","$event","handleOperatorSubmit","row","isCurrentItemSubmitEmpty","currentSubmit","slot","handleDeleteSubmit","handleAcceptSubmit","staticRenderFns","computed","methods","column","date","property","undefined","dt","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","languages","request","$route","params","id","submitId","then","code","mounted","console","log","component"],"sourceRoot":""}