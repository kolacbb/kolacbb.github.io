{"version":3,"file":"js/718.1bcfcdc8.js","mappings":"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","sources":["webpack://AppLocalize/./src/api/submission.js","webpack://AppLocalize/./src/views/project/StoreListing.vue","webpack://AppLocalize/./src/api/listing.js","webpack://AppLocalize/src/views/project/StoreListing.vue","webpack://AppLocalize/./src/views/project/StoreListing.vue?46f2","webpack://AppLocalize/./src/views/project/StoreListing.vue?1f2d"],"sourcesContent":["import http from \"@/utils/request\";\n\nexport const getAllSubmit = (data) => {\n    return http.post(\"/submit/all\", data)\n}\n\nexport const getSubmit = (data) => {\n    return http.post(\"/submit/get\", data)\n}\n\nexport const acceptSubmit = (data) => {\n    return http.post(\"/submit/accept\", data)\n}\n\nexport const deleteSubmit = (data) => {\n    return http.post(\"/submit/delete\", data)\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"container\"},[_c('div',{staticClass:\"App\"},[_c('el-card',{staticClass:\"ProjectCard\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\",\"align-items\":\"center\"}},[_c('el-button',{attrs:{\"loading\":_vm.isLoadListingLoading,\"type\":\"primary\"},on:{\"click\":_vm.loadGooglePlayListing}},[_vm._v(\"Load Google Play Listing\")]),_c('el-button',{attrs:{\"loading\":_vm.isUploadListingLoading,\"type\":\"primary\"},on:{\"click\":_vm.uploadGooglePlayListing}},[_vm._v(\"Upload Google Play Listing\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.translateDlgVisible = true}}},[_vm._v(\"Request Translate\")])],1),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"background-color\":\"#f8f9fa\"}},[_c('span',[_vm._v(\"Listing assets\")])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listingData,\"stripe\":\"\",\"empty-text\":\"No Data\"}},[_c('el-table-column',{attrs:{\"prop\":\"languageKey\",\"label\":\"Language\",\"formatter\":_vm.languageFormat}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"Status\",\"formatter\":_vm.statusFormat}}),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"Update time\",\"formatter\":_vm.dateFormat}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"Operate\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleOperatorSubmit(scope.row)}}},[_vm._v(\"Review\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"Request Translate\",\"visible\":_vm.translateDlgVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.translateDlgVisible=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"Languages\",\"prop\":\"languages\"}},[_c('el-select',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"multiple\":\"\",\"filterable\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"Selected Languages\"},model:{value:(_vm.languagesSelected),callback:function ($$v) {_vm.languagesSelected=$$v},expression:\"languagesSelected\"}},_vm._l((_vm.languagesOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.translateDlgVisible = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleRequestTranslate}},[_vm._v(\"Translate\")])],1)],1),_c('el-dialog',{staticStyle:{\"word-break\":\"break-all\"},attrs:{\"title\":\"Listing assets\",\"visible\":_vm.listingDetailDlgVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.listingDetailDlgVisible=$event}}},[_c('el-form',{ref:\"storeListing\",attrs:{\"model\":_vm.storeListing,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"App Name\",\"prop\":\"appName\"}},[_c('el-input',{attrs:{\"maxlength\":\"30\",\"show-word-limit\":\"\"},model:{value:(_vm.storeListing.appName),callback:function ($$v) {_vm.$set(_vm.storeListing, \"appName\", $$v)},expression:\"storeListing.appName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Short Description\",\"prop\":\"shortDesc\"}},[_c('el-input',{attrs:{\"maxlength\":\"80\",\"show-word-limit\":\"\"},model:{value:(_vm.storeListing.shortDesc),callback:function ($$v) {_vm.$set(_vm.storeListing, \"shortDesc\", $$v)},expression:\"storeListing.shortDesc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Full Description\",\"prop\":\"fullDesc\"}},[_c('el-input',{attrs:{\"maxlength\":\"4000\",\"show-word-limit\":\"\",\"type\":\"textarea\",\"autosize\":{ minRows: 8, maxRows: 8}},model:{value:(_vm.storeListing.fullDesc),callback:function ($$v) {_vm.$set(_vm.storeListing, \"fullDesc\", $$v)},expression:\"storeListing.fullDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDeleteStoreListing()}}},[_vm._v(\"Delete\")]),_c('el-button',{on:{\"click\":function($event){_vm.storeListing.listingId = 0}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.isSubmitLoading},on:{\"click\":_vm.updateStoreListing}},[_vm._v(\"Update\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import http from \"@/utils/request\";\n\n\nexport const getList = (data) => {\n    return http.post(\"/listing/list\", data)\n}\n\nexport const getListing = (data) => {\n    return http.post(\"/listing/get\", data)\n}\n\nexport const deleteListing = (data) => {\n    return http.post(\"/listing/delete\", data)\n}\n\nexport const updateListing = (data) => {\n    return http.post(\"/listing/update\", data)\n}\n\nexport const loadListings = (data) => {\n    return http.post(\"/listing/load\", data)\n}\n\nexport const translateListing = (data) => {\n    return http.post(\"/listing/translate\", data)\n}\n\nexport const submitListing = (data) => {\n    return http.post(\"/listing/submit/google\", data)\n}","<template>\n    <div class=\"container\" v-loading=\"isLoading\">\n      <div class=\"App\">\n\n        <el-card class=\"ProjectCard\">\n\n          <div style=\"display: flex; justify-content: end; align-items: center;\">\n            <el-button @click=\"loadGooglePlayListing\" :loading=\"isLoadListingLoading\" type=\"primary\">Load Google Play Listing</el-button>\n            <el-button @click=\"uploadGooglePlayListing\" :loading=\"isUploadListingLoading\" type=\"primary\">Upload Google Play Listing</el-button>\n            <el-button @click=\"translateDlgVisible = true\" type=\"primary\">Request Translate</el-button>\n          </div>\n\n          <div style=\"display: flex; justify-content: space-between; align-items: center; background-color: #f8f9fa\">\n            <span>Listing assets</span>\n\n\n          </div>\n\n          <el-table\n              :data=\"listingData\"\n              stripe\n              empty-text=\"No Data\"\n              style=\"width: 100%\">\n\n            <el-table-column prop=\"languageKey\" label=\"Language\" :formatter=\"languageFormat\"></el-table-column>\n\n            <el-table-column prop=\"status\" label=\"Status\" :formatter=\"statusFormat\"></el-table-column>\n\n            <el-table-column prop=\"updateTime\" label=\"Update time\" :formatter=\"dateFormat\"></el-table-column>\n\n            <el-table-column fixed=\"right\" label=\"Operate\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-button @click=\"handleOperatorSubmit(scope.row)\" type=\"text\" size=\"small\">Review</el-button>\n\n              </template>\n            </el-table-column>\n\n          </el-table>\n\n        </el-card>\n\n\n        <el-dialog title=\"Request Translate\" :visible.sync=\"translateDlgVisible\" width=\"30%\">\n\n          <el-form>\n              <el-form-item label=\"Languages\" prop=\"languages\">\n                <el-select\n                    v-model=\"languagesSelected\" multiple filterable collapse-tags\n                    style=\"margin-left: 20px;\" placeholder=\"Selected Languages\">\n\n                  <el-option v-for=\"item in languagesOptions\" :key=\"item.value\"\n                             :label=\"item.label\"\n                             :value=\"item.value\" >\n                  </el-option>\n                </el-select>\n\n              </el-form-item>\n          </el-form>\n\n          <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"translateDlgVisible = false\">Cancel</el-button>\n              <el-button type=\"primary\" @click=\"handleRequestTranslate\">Translate</el-button>\n          </span>\n        </el-dialog>\n\n\n        <el-dialog title=\"Listing assets\"\n                   style=\"word-break: break-all\"\n                   :visible.sync=\"listingDetailDlgVisible\"\n                   width=\"50%\">\n\n          <el-form ref=\"storeListing\" :model=\"storeListing\" :rules=\"rules\">\n            <el-form-item label=\"App Name\" prop=\"appName\">\n              <el-input maxlength=\"30\"\n                        show-word-limit v-model=\"storeListing.appName\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Short Description\" prop=\"shortDesc\">\n              <el-input maxlength=\"80\"\n                        show-word-limit v-model=\"storeListing.shortDesc\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Full Description\" prop=\"fullDesc\">\n              <el-input maxlength=\"4000\"\n                        show-word-limit   type=\"textarea\" :autosize=\"{ minRows: 8, maxRows: 8}\" v-model=\"storeListing.fullDesc\"></el-input>\n            </el-form-item>\n          </el-form>\n\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"handleDeleteStoreListing()\" type=\"text\">Delete</el-button>\n\n            <el-button @click=\"storeListing.listingId = 0\">Cancel</el-button>\n            <el-button type=\"primary\" :loading=\"isSubmitLoading\" @click=\"updateStoreListing\">Update</el-button>\n          </span>\n        </el-dialog>\n      </div>\n    </div>\n</template>\n\n<script>\nimport {\n  getList,\n  getListing,\n  updateListing,\n  loadListings,\n  submitListing,\n  translateListing,\n  deleteListing\n} from \"../../api/listing\";\nimport languages from \"@/store/languages\";\nimport {getSubmit} from \"@/api/submission\";\n\nexport default {\n  data() {\n    return {\n      isLoading: true,\n      isSubmitLoading: false,\n      isLoadListingLoading: false,\n      isUploadListingLoading: false,\n      translateDlgVisible: false,\n      listingData: [],\n      storeListing: {\n        listingId: 0,\n        appName: \"\",\n        shortDesc: \"\",\n        fullDesc: \"\"\n      },\n\n      languagesOptions:[],\n      languagesSelected: [],\n    }\n  },\n  computed: {\n    projectData() {\n      return this.$store.state.tab.projectData\n    },\n    listingDetailDlgVisible() {\n      return this.storeListing.listingId != 0\n    }\n  },\n  watch: {\n    projectData(newVal, oldVal) {\n      if (this.$route.params.id == this.$store.state.tab.projectData.projectId) {\n        this.refreshPage()\n      }\n    },\n  },\n  methods: {\n    refreshPage() {\n      // 构建语言选择列表\n      const projectData = this.$store.state.tab.projectData;\n      if (this.$route.params.id != projectData.projectId) {\n        // 没有基础数据，暂时不处理\n        return\n      }\n\n      this.refreshListing()\n    },\n    refreshListing() {\n      // 获取选择语言下的商店页面\n      const request = {\n        \"projectId\": this.$route.params.id,\n      }\n      getList(request).then((data) => {\n        this.listingData = data.data\n        this.isLoading = false\n\n\n        const projectData = this.$store.state.tab.projectData;\n        const set = []\n        const curSet = []\n        this.languagesOptions = []\n        projectData.languages.split(\",\").forEach((item) => {\n          set.push(item.trim())\n        });\n        this.listingData.forEach((item) => {\n          curSet.push(item.languageKey)\n        })\n\n        console.log(set, curSet)\n        Object.keys(languages.state.languages).forEach((item) => {\n          console.log(item)\n          if (set.includes(item) && !curSet.includes(item)) {\n            this.languagesOptions.push({\n              label: languages.state.languages[item],\n              value: item,\n            })\n          }\n        })\n\n      })\n    },\n    updateStoreListing() {\n      this.isSubmitLoading = true\n      updateListing(this.storeListing).then((data) => {\n        this.isSubmitLoading = false\n        this.storeListing.listingId = 0\n        console.log(data);\n      })\n    },\n    languageFormat(row, column) {\n      let date = row[column.property]\n      if (date == undefined) {\n        return ''\n      }\n      return languages.state.languages[date]\n    },\n    statusFormat(row, column) {\n      let data = row[column.property]\n      if (data == undefined) {\n        return ''\n      }\n      if (0 == data) {\n        return \"Done\"\n      } else if (1 == data) {\n        return \"Empty\"\n      } else if (2 == data) {\n        return \"Wait Apply\"\n      } else {\n        return \"Error\"\n      }\n    },\n    dateFormat(row, column) {\n      // 获取单元格数据\n      let date = row[column.property]\n      if (date == undefined) {\n        return ''\n      }\n      let dt = new Date(date)\n      //console.log(dt.getYear());\n      return dt.getFullYear() + '-' + (dt.getMonth() + 1) + '-' + dt.getDate() + ' ' + dt.getHours() + ':' + dt.getMinutes() + ':' + dt.getSeconds()\n    },\n    handleDeleteStoreListing(row) {\n      const request = {\n        \"listingId\": this.storeListing.listingId,\n      };\n      deleteListing(request).then((data) => {\n        this.storeListing.listingId = 0\n        console.log(data)\n      })\n    },\n    handleOperatorSubmit(row) {\n      const request = {\n        \"listingId\": row.listingId,\n      };\n\n      getListing(request).then((data) => {\n        console.log(data)\n        this.storeListing = data.data\n        this.isLoading = false\n      })\n    },\n    loadGooglePlayListing() {\n      this.isLoadListingLoading = true\n      const request = {\n        \"projectId\": this.$route.params.id,\n      };\n      loadListings(request).then((date) => {\n        this.isLoadListingLoading = false;\n        if (date.status == 200) {\n          this.refreshListing()\n        }\n      })\n    },\n    uploadGooglePlayListing() {\n      this.isUploadListingLoading = true\n      const request = {\n        \"projectId\": this.$route.params.id,\n      };\n      submitListing(request).then((date) => {\n        this.isUploadListingLoading = false;\n        if (date.status == 200) {\n          return this.storeListing.listingId = 0\n        }\n      })\n    },\n    handleRequestTranslate() {\n      let languages = \"\"\n      this.languagesSelected.forEach((item) => {\n        languages += \",\" + item\n      })\n      languages = languages.slice(1)\n      let request = {\n        \"projectId\": this.$route.params.id,\n        // \"languages\": languages\n      }\n      translateListing(request).then((date) => {\n          this.translateDlgVisible = false\n      })\n\n    }\n  },\n  mounted() {\n    this.refreshPage()\n  },\n}\n</script>\n\n\n<style lang=\"less\" scoped>\n\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StoreListing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StoreListing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoreListing.vue?vue&type=template&id=06991dce&scoped=true&\"\nimport script from \"./StoreListing.vue?vue&type=script&lang=js&\"\nexport * from \"./StoreListing.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06991dce\",\n  null\n  \n)\n\nexport default component.exports"],"names":["getAllSubmit","data","http","post","getSubmit","acceptSubmit","deleteSubmit","render","_vm","this","_c","_self","directives","name","rawName","value","isLoading","expression","staticClass","staticStyle","attrs","isLoadListingLoading","on","loadGooglePlayListing","_v","isUploadListingLoading","uploadGooglePlayListing","$event","translateDlgVisible","listingData","languageFormat","statusFormat","dateFormat","scopedSlots","_u","key","fn","scope","handleOperatorSubmit","row","model","languagesSelected","callback","$$v","_l","languagesOptions","item","label","slot","handleRequestTranslate","listingDetailDlgVisible","ref","storeListing","rules","appName","$set","shortDesc","minRows","maxRows","fullDesc","handleDeleteStoreListing","listingId","isSubmitLoading","updateStoreListing","staticRenderFns","getList","getListing","deleteListing","updateListing","loadListings","translateListing","submitListing","computed","projectData","$store","state","tab","watch","newVal","oldVal","$route","params","id","projectId","refreshPage","methods","refreshListing","request","then","set","curSet","languages","split","forEach","push","trim","languageKey","console","log","Object","keys","includes","column","date","property","undefined","dt","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","status","slice","mounted","component"],"sourceRoot":""}