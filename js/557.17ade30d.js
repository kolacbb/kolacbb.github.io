"use strict";(self["webpackChunkAppLocalize"]=self["webpackChunkAppLocalize"]||[]).push([[557],{4358:function(e,t,a){a.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("canvas",{ref:"screenCanvas"},[e._v("Canvas not supported "+e._s(e.refreshCanvas(e.text)))])},r=[],s=(a(2801),a(1439),a(7585),a(5315),{props:["canvasWidth","canvasHeight","text","textAlign","backgroundColor","frameImgUrl","screenBlobImg"],data(){return{}},methods:{refreshCanvas(e){const t=this.canvasWidth,a=this.canvasHeight,i=this.$refs.screenCanvas;if(null==i)return;if(i.setAttribute("width",t+""),i.setAttribute("height",a+""),!i.getContext)return;const r=i.getContext("2d");r.fillStyle=this.backgroundColor,r.fillRect(0,0,t,a);const s={path:this.frameImgUrl,x:.05*t,y:.18*a,width:1564,height:3320,startX:59.4,startY:191.2,endX:1501.4,endY:3232.9,extraY:1548.8},o=.9*t/s.width;if(s.width=s.width*o,s.height=s.height*o,s.startX=s.x+s.startX*o,s.startY=s.y+s.startY*o,s.endX=s.x+s.endX*o,s.endY=s.y+s.endY*o,null!=this.text){const e=this.text.split("\n");if(r.beginPath(),r.fillStyle="#FFFFFF",0==this.textAlign){r.textAlign="left";let a=1<e.length?64:100;for(let i=0;i<e.length&&i<2;i++)r.font="bolder 74px Arial",r.fillText(e[i],s.x+12,100*(i+1)+a,t-2*s.x-12)}else if(2==this.textAlign){r.textAlign="right";let a=1<e.length?64:100;for(let i=0;i<e.length&&i<2;i++)r.font="bolder 74px Arial",r.fillText(e[i],t-s.x-12,100*(i+1)+a,t-2*s.x-12)}else{r.textAlign="center";let a=1<e.length?64:100;for(let i=0;i<e.length&&i<2;i++)r.font="bolder 74px Arial",r.fillText(e[i],t/2,100*(i+1)+a,t-2*s.x)}r.closePath()}var l=new Image;l.crossOrigin="Anonymous";const n=new FileReader;n.onload=function(e){l.src=e.target.result},n.readAsDataURL(this.screenBlobImg),l.src=this.screenBlobImg,l.onload=function(){const e=Math.max((s.endX-s.startX)/this.width,(s.endY-s.endX)/this.height);r.drawImage(this,s.startX,s.startY,this.width*e,this.height*e);let t=new Image;t.src=s.path,console.log("path path",s.path),t.onload=function(){r.drawImage(this,s.x,s.y,s.width,s.height)}}},exportImages(){const e=this.$refs.screenCanvas;var t=e.toDataURL("image/png"),a=this.dataURLtoBlob(t);let i=new File([a],(new Date).getTime()+".jpg");return i},dataURLtoBlob(e){var t=e.split(","),a=t[1].substring(0,t[1].length-2),i=t[0].match(/:(.*?);/)[1],r=atob(a),s=r.length,o=new Uint8Array(s);while(s--)o[s]=r.charCodeAt(s);return new Blob([o],{type:i})}},mounted(){this.refreshCanvas()},computed:{},watch:{canvasWidth(e,t){console.log("canvasWidth 变化:",e),this.refreshCanvas(this.text)},canvasHeight(e,t){console.log("canvasHeight 变化:",e),this.refreshCanvas(this.text)},text(e,t){console.log("text 变化:",e),this.refreshCanvas(this.text)},backgroundColor(e,t){console.log("backgroundColor 变化:",e),this.refreshCanvas(this.text)},frameImgUrl(e,t){console.log("frameImgUrl 变化:",e),this.refreshCanvas(this.text)},screenBlobImg(e,t){console.log("screenBlobImg 变化:",e),this.refreshCanvas(this.text)},textAlign(e,t){console.log("screenBlobImg 变化:",e),this.refreshCanvas(this.text)}}}),o=s,l=a(3736),n=(0,l.Z)(o,i,r,!1,null,null,null),c=n.exports},3557:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"container"},[t("div",{staticClass:"App"},[t("el-steps",{staticStyle:{width:"100%","padding-bottom":"48px"},attrs:{active:e.activeStep,"finish-status":"success"}},[t("el-step",{attrs:{title:"Create"}}),t("el-step",{attrs:{title:"Checkout"}}),t("el-step",{attrs:{title:"Finish"}})],1),e._m(0),t("div",[t("h3",{staticStyle:{"font-size":"20px","padding-top":"20px","padding-bottom":"2px",margin:"0"}},[e._v("Create Project")]),t("h3",{staticStyle:{"font-size":"18px",color:"#999999","padding-top":"20px"}},[e._v("Basic Info")]),t("div",{staticClass:"Input",staticStyle:{"padding-top":"0"}},[t("h3",{staticStyle:{"margin-top":"0"}},[e._v("Project Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.projectForm.projectName,expression:"projectForm.projectName"}],attrs:{type:"text",placeholder:""},domProps:{value:e.projectForm.projectName},on:{input:function(t){t.target.composing||e.$set(e.projectForm,"projectName",t.target.value)}}})]),t("div",{staticClass:"Input"},[t("h3",[e._v("Android Package Name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.projectForm.packageName,expression:"projectForm.packageName"}],attrs:{type:"text",placeholder:""},domProps:{value:e.projectForm.packageName},on:{input:function(t){t.target.composing||e.$set(e.projectForm,"packageName",t.target.value)}}})]),t("h3",{staticStyle:{"font-size":"18px",color:"#999999","padding-top":"20px"}},[e._v("Project Strings")]),e._m(1),t("h3",{staticStyle:{"font-size":"18px",color:"#999999","padding-top":"20px"}},[e._v("PlayStore Info")]),t("div",{staticClass:"Input",staticStyle:{"padding-top":"0"}},[t("h3",{staticStyle:{"margin-top":"0"}},[e._v("App name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.projectForm.appName,expression:"projectForm.appName"}],attrs:{type:"text",placeholder:"Default value is taken from Google play",maxlength:"30"},domProps:{value:e.projectForm.appName},on:{input:function(t){t.target.composing||e.$set(e.projectForm,"appName",t.target.value)}}})]),t("div",{staticClass:"Input"},[t("h3",[e._v("Short description")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.projectForm.shortDesc,expression:"projectForm.shortDesc"}],attrs:{type:"text",placeholder:"Default value is taken from Google play",maxlength:"80"},domProps:{value:e.projectForm.shortDesc},on:{input:function(t){t.target.composing||e.$set(e.projectForm,"shortDesc",t.target.value)}}})]),t("div",{staticClass:"Input"},[t("h3",[e._v("Full description")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.projectForm.fullDesc,expression:"projectForm.fullDesc"}],attrs:{dir:"auto",placeholder:"Default value is taken from Google play",maxlength:"4000"},domProps:{value:e.projectForm.fullDesc},on:{input:function(t){t.target.composing||e.$set(e.projectForm,"fullDesc",t.target.value)}}})]),t("div",{staticClass:"Input"},[t("h3",[e._v("Screenshot Data")]),t("el-row",e._l(e.projectForm.screenPreview,(function(a){return t("el-col",{attrs:{span:12}},[t("div",{staticClass:"drop-area",class:{"highlight-border":a.isDragging},on:{dragover:function(e){e.preventDefault()},drop:function(t){return e.handleDrop(t,a)},dragenter:function(e){a.isDragging=!0},dragleave:function(e){a.isDragging=!1}}},[t("div",{staticStyle:{height:"40px","background-color":"white",display:"flex","justify-content":"space-between","align-items":"center"}},[t("h4",{staticStyle:{margin:"0"}}),t("el-button",{staticStyle:{margin:"16px","font-weight":"bold"},attrs:{type:"text"},on:{click:function(t){return e.handleOpenEditDrawer(!0,a)}}},[e._v("Edit ")])],1),t("screen-preview",{key:a,ref:"screenRefs",refInFor:!0,class:{"highlight-border":a.isDragging},staticStyle:{width:"100%"},attrs:{"canvas-width":e.previewWidth,"canvas-height":e.previewHeight,text:a.title,"text-align":a.textAlign,"background-color":a.color,"frame-img-url":"/frames/google-pixel-4-xl-black.png","screen-blob-img":a.blob}})],1)])})),1)],1),t("el-button",{staticClass:"Button",attrs:{loading:e.isSubmitLoading},on:{click:e.handleSubmit}},[e._v("Submit")])],1)],1),t("el-drawer",{attrs:{title:this.isEditDrawer?"Edit Screenshot":"Add Screenshot",visible:e.isAddEditDrawerOpen,size:"45%",direction:"rtl"},on:{"update:visible":function(t){e.isAddEditDrawerOpen=t}}},[t("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%",width:"100%","padding-left":"24px","padding-right":"24px"}},[t("el-form",{ref:"form",staticStyle:{flex:"1"},attrs:{model:e.selectedPreview}},[t("h3",[e._v("Desc")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedPreview.title,expression:"selectedPreview.title"}],attrs:{dir:"auto",placeholder:""},domProps:{value:e.selectedPreview.title},on:{input:function(t){t.target.composing||e.$set(e.selectedPreview,"title",t.target.value)}}}),e._v(" "),t("h3",{staticStyle:{"margin-top":"26px"}},[e._v("Text Align")]),t("el-radio",{attrs:{label:"0"},model:{value:e.selectedPreview.textAlign,callback:function(t){e.$set(e.selectedPreview,"textAlign",t)},expression:"selectedPreview.textAlign"}},[e._v("Left")]),t("el-radio",{attrs:{label:"1"},model:{value:e.selectedPreview.textAlign,callback:function(t){e.$set(e.selectedPreview,"textAlign",t)},expression:"selectedPreview.textAlign"}},[e._v("Center")]),t("el-radio",{attrs:{label:"2"},model:{value:e.selectedPreview.textAlign,callback:function(t){e.$set(e.selectedPreview,"textAlign",t)},expression:"selectedPreview.textAlign"}},[e._v("Right")]),t("h3",{staticStyle:{"margin-top":"26px"}},[e._v("Background")]),t("el-color-picker",{model:{value:e.selectedPreview.color,callback:function(t){e.$set(e.selectedPreview,"color",t)},expression:"selectedPreview.color"}})],1)],1)])],1)},r=[function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"font-size":"20px","padding-top":"20px","padding-bottom":"2px",margin:"0"}},[e._v("Checkout Project")]),t("div",{staticStyle:{"margin-top":"48px"}},[t("form",{attrs:{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_top"}},[t("input",{attrs:{type:"hidden",name:"cmd",value:"_s-xclick"}}),t("input",{attrs:{type:"hidden",name:"hosted_button_id",value:"GSW22QBV83NK2"}}),t("input",{attrs:{type:"hidden",name:"currency_code",value:"USD"}}),t("input",{attrs:{type:"image",src:"https://www.paypalobjects.com/en_US/i/btn/btn_paynow_LG.gif",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!",alt:"Buy Now"}})])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"Input",staticStyle:{"padding-top":"0"}},[t("h3",{staticStyle:{"margin-top":"0"}},[e._v("string.xml")]),t("div",{staticClass:"drop-area",staticStyle:{"min-height":"150px"}})])}],s=(a(7658),a(4358)),o={components:{ScreenPreview:s.Z},data(){return{activeStep:0,isLoading:!1,isSubmitLoading:!1,previewWidth:1080,previewHeight:1920,defaultImgBlob:null,isAddEditDrawerOpen:!1,isEditDrawer:!1,selectedPreview:{},projectForm:{projectId:"",listingId:"",projectName:"",packageName:"",bundleId:"",languages:"",appName:"",shortDesc:"",fullDesc:"",screenPreview:[{title:"Input\ntext here",textAlign:0,color:"#5ba5be",blob:null,isDragging:!1},{title:"Drag\nscreenshot here",textAlign:0,color:"#ec71a8",blob:null,isDragging:!1}]},languagesArray:["EN"]}},mounted(){this.selectedPreview=this.projectForm.screenPreview[0],fetch("/frames/img_previews_demo.jpg").then((e=>e.blob())).then((e=>{this.defaultImgBlob=e;for(const t of this.projectForm.screenPreview)null==t.blob&&(t.blob=this.defaultImgBlob)})).catch((e=>{console.error("blob error:",e)}))},methods:{makeToast(e,t){const a=this.$createElement;this.$notify({duration:3e3,showClose:!1,message:a("i",{style:t?"color: black":"color: teal"},e)})},handleOpenEditDrawer(e,t){this.isEditDrawer=e,this.isAddEditDrawerOpen=!0,null==t&&(t={title:"",blob:this.defaultImgBlob,isDragging:!1}),this.selectedPreview=t},handleDrawerAdded(){this.isEditDrawer||(null==this.selectedPreview.blob&&(this.selectedPreview.blob=this.defaultImgBlob),this.screenPreview.push(this.selectedPreview)),this.isAddEditDrawerOpen=!1},handleDrop(e,t){e.preventDefault(),this.isDragging=!1;const a=e.dataTransfer.files;0<a.length&&(t.blob=a[0])},handleSubmit(){null==this.projectForm.projectName||this.projectForm.projectName.length<=0?this.makeToast("Project name cannot be empty.",!0):(null==this.projectForm.packageName||this.projectForm.packageName.length<=0)&&this.makeToast("Package name cannot be empty.",!0)},handlePay(){}}},l=o,n=a(3736),c=(0,n.Z)(l,i,r,!1,null,"1dcd70b2",null),d=c.exports}}]);
//# sourceMappingURL=557.17ade30d.js.map